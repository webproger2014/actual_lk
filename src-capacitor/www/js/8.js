(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{1:function(t,e){},2:function(t,e){},2045:function(t,e,a){"use strict";var n=a("c3fa"),i=a.n(n);i.a},3:function(t,e){},4:function(t,e){},"6b12":function(t,e,a){"use strict";var n,i,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",attrs:{id:"printdoc"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.ts(e)}}},[a("iframe",{ref:"filePrint",staticStyle:{display:"none"},attrs:{src:""}}),a("q-dialog",{attrs:{maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",{staticClass:"full-width",staticStyle:{overflow:"hidden"}},[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"keyboard_arrow_left"},on:{click:t.closeDialog}}),t._v("\n          Вернуться\n\n          "),a("div",{staticClass:"text-center toolbar-center"},[a("q-btn",{attrs:{flat:"",color:"white",icon:"zoom_out",size:"13px"},on:{click:function(e){t.scale-=.1}}}),t._v("\n            "+t._s((t.scale-1.5).toFixed(1))+"\n            "),a("q-btn",{attrs:{flat:"",color:"white",icon:"zoom_in",size:"13px"},on:{click:function(e){t.scale+=.1}}}),t._v("\n\n            стр "+t._s(t.numPages)+"\n          ")],1)],1),a("div",{staticClass:"pdf-container"},[a("document",t._b({on:{countpages:t.countPages}},"document",{data:t.data,scale:t.scale},!1))],1)],1)],1)],1)},s=[],c=a("967e"),l=a.n(c),r=(a("6762"),a("2fdb"),a("96cf"),a("fa84")),d=a.n(r),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapperiframe",staticClass:"canvas-container text-center"},[a("q-circular-progress",{directives:[{name:"show",rawName:"v-show",value:!t.pages.length,expression:"!pages.length"}],staticClass:"q-ma-md absolute-center",attrs:{indeterminate:"",size:"40px",color:"light-blue-6"}}),t._l(t.pages,(function(e,n){return a("div",{key:n},[a("page",t._b({},"page",{page:e,scale:t.scale},!1))],1)}))],2)},p=[],f=(a("551c"),a("ac6a"),a("cadf"),a("06db"),a("5df3"),a("9511")),h=a.n(f),m=a("f3e3"),v=a.n(m),g={props:["page","scale"],render:function(t){var e=this.canvasAttrs;return t("canvas",{attrs:e})},created:function(){this.viewport=this.page.getViewport({scale:this.scale})},mounted:function(){this.drawPage()},computed:{canvasAttrs:function(){var t=this.viewport,e=t.width,a=t.height,n=this.canvasStyle;return{width:e,height:a,style:n}},canvasStyle:function(){var t=this.actualSizeViewport,e=t.width,a=t.height,n=window.devicePixelRatio||1,i=[e,a].map((function(t){return Math.ceil(t/n)})),o=v()(i,2),s=o[0],c=o[1];return"width: ".concat(s,"px; height: ").concat(c,"px;")},actualSizeViewport:function(){return this.viewport.clone({scale:this.scale-1.5})}},methods:{drawPage:function(){var t=this.viewport,e=this.$el.getContext("2d"),a={canvasContext:e,viewport:t};this.renderTask=this.page.render(a)}}},b=g,q=a("2877"),_=Object(q["a"])(b,n,i,!1,null,"1300dd0b",null),w=_.exports,x={props:["data","scale"],components:{page:w},data:function(){return{pdf:void 0,pages:[]}},created:function(){this.fetchPDF()},methods:{fetchPDF:function(){var t=this;if(this.data){var e={withCredentials:!1};this.data.includes(".pdf")?e["url"]=this.data:e["data"]=atob(this.data),h.a.getDocument(e).promise.then((function(e){t.pdf=e}))}}},watch:{data:function(){this.fetchPDF()},pdf:function(t){var e=this;this.pages=[],this.$emit("countpages",t.numPages);var a=this.$_.range(1,t.numPages+1).map((function(e){return t.getPage(e)}));Promise.all(a).then((function(t){return e.pages=t}))}}},k=x,C=a("eebe"),y=a.n(C),P=a("58ea"),Q=Object(q["a"])(k,u,p,!1,null,"5dc4132c",null),$=Q.exports;y()(Q,"components",{QCircularProgress:P["a"]});var S={name:"printdoc",components:{document:$},data:function(){return{dialog:!1,numPages:void 0,srcPdf:"",percentLoad:"",indexLoad:1,scale:3,data:""}},methods:{print:function(t){var e=this.$refs.filePrint;this.srcPdf=encodeURIComponent(t),e.contentWindow.focus(),e.onload=function(){e.contentWindow.print()}},closeDialog:function(){this.dialog=!1,this.data=null,this.numPages=void 0,this.scale=3},open:function(t,e){var a=this;null===t.target.getAttribute("nopen")&&(this.srcPdf=encodeURIComponent(e),this.dialog=!0,this.$nextTick((function(){setTimeout((function(){a.$_loadPdf(e)}),500)})))},$_loadPdf:function(t){var e=this;return d()(l.a.mark((function a(){return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.includes("http")?e.$axios.post("parse/file/pdf",{src:t}).then((function(t){e.data=t.data})):e.data=t;case 1:case"end":return a.stop()}}),a)})))()},countPages:function(t){this.numPages=t}}},z=S,E=(a("8989"),a("24e8")),F=a("f09f"),I=a("65c6"),U=a("9c40"),D=Object(q["a"])(z,o,s,!1,null,"86849036",null);e["a"]=D.exports;y()(D,"components",{QDialog:E["a"],QCard:F["a"],QToolbar:I["a"],QBtn:U["a"]})},8989:function(t,e,a){"use strict";var n=a("9f00"),i=a.n(n);i.a},"9f00":function(t,e,a){},b776:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"contract"}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"text-h4 xs-text-h4"},[t._v("\n      Расчёты стоимости  "),a("q-chip",{staticStyle:{display:"none"},attrs:{clickable:"",icon:"call_merge",color:"orange","text-color":"white"},on:{click:function(e){t.dialog.calculation=!0}}},[t._v("Рассчитать стоимость")])],1)]),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.$refs.doc.open(e,"/statics/Elena.pdf")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{color:"primary","text-color":"white"}},[a("q-icon",{attrs:{name:"file_copy"}})],1)],1),a("q-item-section",[a("q-item-label",[t._v("Пример расчёта стоимости дома под ключ")]),a("q-item-label",{staticClass:"text-bold"},[t._v('Проект "Елена"')])],1),a("q-item-section",{staticClass:"gt-xs",attrs:{side:""}},[a("q-btn",{attrs:{unelevated:"",rounded:"",size:"11px",color:"green",label:"согласовать",disabled:""}})],1),a("q-item-section",{staticClass:"gt-xs",attrs:{side:""}},[a("q-btn",{attrs:{unelevated:"",rounded:"",size:"11px",color:"grey",label:"Отклонить",disabled:""}})],1),a("q-item-section",{staticClass:"touch-hide",attrs:{side:"",nopen:""}},[a("q-btn",{attrs:{flat:"",round:"",dense:"",nopen:""}},[a("q-icon",{attrs:{name:"more_vert",nopen:""}}),a("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale",nopen:"",nbg:""}},[a("q-item-section",{staticClass:"q-pa-xs",attrs:{side:"",nopen:""},on:{click:function(e){return t.$refs.doc.print("/statics/Elena.pdf")}}},[a("q-btn",{attrs:{round:"",color:"green",icon:"print",nopen:""}})],1),a("q-item-section",{staticClass:"q-pa-xs",attrs:{side:""},on:{click:function(e){return t.$refs.doc.open(e,"/statics/Elena.pdf")}}},[a("q-btn",{attrs:{round:"",color:"grey",icon:"visibility"}})],1)],1)],1)],1)],1),a("q-item",{staticClass:"lt-sm"},[a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{unelevated:"",rounded:"",size:"11px",color:"green",label:"согласовать",disabled:""}})],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{unelevated:"",rounded:"",size:"11px",color:"grey",label:"Отклонить",disabled:""}})],1)],1),a("printdoc",{ref:"doc"}),a("q-dialog",{model:{value:t.dialog.calculation,callback:function(e){t.$set(t.dialog,"calculation",e)},expression:"dialog.calculation"}},[a("q-card",{staticStyle:{width:"100%","max-width":"620px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("Загрузить на расчёт")])]),a("q-separator"),a("q-stepper",{attrs:{vertical:"",color:"light-blue-11",animated:""},model:{value:t.calculation.step,callback:function(e){t.$set(t.calculation,"step",e)},expression:"calculation.step"}},[a("q-step",{attrs:{name:1,title:"Ссылка на проект",icon:"settings",done:t.calculation.step>1}},[a("q-input",{attrs:{filled:"",placeholder:"Ссылка",hint:"*Не обязательное поле"},model:{value:t.calculation.url,callback:function(e){t.$set(t.calculation,"url",e)},expression:"calculation.url"}}),a("q-stepper-navigation",[a("q-btn",{attrs:{color:"light-blue-7",label:"Далее"},on:{click:function(e){t.calculation.step=2}}})],1)],1),a("q-step",{attrs:{name:2,title:"Ваш комментарий",icon:"comment",done:t.calculation.step>2}},[a("q-input",{attrs:{filled:"",type:"textarea"},model:{value:t.calculation.comment,callback:function(e){t.$set(t.calculation,"comment",e)},expression:"calculation.comment"}}),a("q-stepper-navigation",[a("q-btn",{attrs:{color:"light-blue-7",label:"Далее"},on:{click:function(e){t.calculation.step=3}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Назад"},on:{click:function(e){t.calculation.step=1}}})],1)],1),a("q-step",{attrs:{name:3,title:"Прикрепите файлы",icon:"assignment"}},[a("q-uploader",{staticClass:"full-width",attrs:{url:"https://api.vevanta.ru/users/upload/"+t.$store.state.auth.user.id,headers:[{name:"token",value:t.$store.state.auth.token}],label:"Custom header",accept:"image/*"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("div",{staticClass:"row no-wrap items-center q-pa-sm q-gutter-xs"},[e.uploadedFiles.length>0?a("q-btn",{attrs:{icon:"done_all",round:"",dense:"",flat:""},on:{click:e.removeUploadedFiles}},[a("q-tooltip",[t._v("Удалить изображение")])],1):t._e(),e.isUploading?a("q-spinner",{staticClass:"q-uploader__spinner"}):t._e(),a("div",{staticClass:"col"},[a("div",{staticClass:"q-uploader__title"},[t._v("Выберите изображение (макс 2 МБ) ")]),a("div",{staticClass:"q-uploader__subtitle"},[t._v(t._s(e.uploadSizeLabel)+" / "+t._s(e.uploadProgressLabel))])]),e.canAddFiles?a("q-btn",{attrs:{type:"a",icon:"add_box",round:"",dense:"",flat:""}},[a("q-uploader-add-trigger",{attrs:{id:"prevImgLoad"}}),a("q-tooltip",[t._v("Добавить изображение")])],1):t._e(),e.canUpload?a("q-btn",{attrs:{icon:"cloud_upload",round:"",dense:"",flat:""},on:{click:e.upload}},[a("q-tooltip",[t._v("Загрузить")])],1):t._e(),e.isUploading?a("q-btn",{attrs:{icon:"clear",round:"",dense:"",flat:""},on:{click:e.abort}},[a("q-tooltip",[t._v("Abort Upload")])],1):t._e()],1)]}}])}),a("q-stepper-navigation",[a("q-btn",{attrs:{color:"light-blue-7",label:"Далее"},on:{click:function(e){t.calculation.step=4}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Назад"},on:{click:function(e){t.calculation.step=2}}})],1)],1),a("q-step",{attrs:{name:4,title:"Create an ad",icon:"add_comment"}},[t._v("\n              Try out different ad text to see what brings in the most customers, and learn how to\n              enhance your ads using features like ad extensions. If you run into any problems with\n              your ads, find out how to tell if they're running and how to resolve approval issues.\n\n              "),a("q-stepper-navigation",[a("q-btn",{attrs:{color:"primary",label:"Finish"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(e){t.calculation.step=2}}})],1)],1)],1)],1)],1)],1)},i=[],o=a("6b12"),s={name:"contract",components:{printdoc:o["a"]},data:function(){return{calculation:{step:1,url:"",comment:""},dialog:{calculation:!1}}},created:function(){this.$store.dispatch("user/GET_OFFERS")},methods:{}},c=s,l=(a("2045"),a("2877")),r=a("eebe"),d=a.n(r),u=a("b047"),p=a("66e5"),f=a("4074"),h=a("cb32"),m=a("0016"),v=a("0170"),g=a("9c40"),b=a("4e73"),q=a("24e8"),_=a("f09f"),w=a("a370"),x=a("eb85"),k=a("f531"),C=a("87fe"),y=a("27f9"),P=a("b19c"),Q=a("ee89"),$=a("05c0"),S=a("0d59"),z=a("cc04"),E=a("714f"),F=Object(l["a"])(c,n,i,!1,null,null,null);e["default"]=F.exports;d()(F,"components",{QChip:u["a"],QItem:p["a"],QItemSection:f["a"],QAvatar:h["a"],QIcon:m["a"],QItemLabel:v["a"],QBtn:g["a"],QMenu:b["a"],QDialog:q["a"],QCard:_["a"],QCardSection:w["a"],QSeparator:x["a"],QStepper:k["a"],QStep:C["a"],QInput:y["a"],QStepperNavigation:P["a"],QUploader:Q["a"],QTooltip:$["a"],QSpinner:S["a"],QUploaderAddTrigger:z["a"]}),d()(F,"directives",{Ripple:E["a"]})},c3fa:function(t,e,a){}}]);