(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0dad":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"contracts"}},[t.$store.state.user.contractStatus?t._e():a("div",{staticClass:"q-pa-md"},[a("q-icon",{attrs:{size:"22px",name:"warning",color:"orange"}}),a("span",{staticClass:"text-caption q-ml-sm"},[t._v("Договоров нет")])],1),t._l(t.$store.state.user.contract,(function(e,i){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,staticClass:"q-pl-xs",attrs:{tag:"label",clickable:""}},[a("q-radio",{attrs:{val:i,color:"orange"},on:{input:t.updateDataByContract},model:{value:t.activeContract,callback:function(e){t.activeContract=e},expression:"activeContract"}}),a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{color:"primary","text-color":"white"}},[a("q-icon",{attrs:{name:"file_copy"}})],1)],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.contract_name)+" "+t._s(e.id))]),a("q-item-label",{attrs:{caption:""}},[t._v("№ "+t._s(e.contract_number)+" "+t._s(t._f("dateString2")(e.contract_date)))])],1)],1)}))],2)},s=[],n={name:"contracts",data:function(){return{activeContract:0}},created:function(){var t=this;this.activeContract=this.$store.state.user.contractActiveIndex,this.$_.isEmpty(this.$store.state.user.contract)&&this.$store.dispatch("user/GET_DOC_CONTRACT"),!this.$_.isEmpty(this.$store.state.user.activeContract)&&this.$_.isEmpty(this.$store.state.user.contractDocs)&&this.$store.dispatch("user/GET_DOC_CONTRACT"),this.$watch("$store.state.user.activeContract",(function(e){t.$store.dispatch("user/GET_DOC_CONTRACT")})),this.$watch("$store.state.user.contractActiveIndex",(function(){t.activeContract=t.$store.state.user.contractActiveIndex}))},methods:{updateDataByContract:function(){this.$store.dispatch("user/UPDATE_ACTIVE_CONTRACT",this.activeContract),this.$MSG_SUCCESS("Вы перешли на договор: "+this.$store.state.user.activeContract.contract_name)}}},r=n,c=a("2877"),o=a("eebe"),l=a.n(o),p=a("0016"),d=a("66e5"),u=a("3786"),m=a("4074"),v=a("cb32"),f=a("0170"),h=a("714f"),g=Object(c["a"])(r,i,s,!1,null,null,null);e["a"]=g.exports;l()(g,"components",{QIcon:p["a"],QItem:d["a"],QRadio:u["a"],QItemSection:m["a"],QAvatar:v["a"],QItemLabel:f["a"]}),l()(g,"directives",{Ripple:h["a"]})},1:function(t,e){},2:function(t,e){},3:function(t,e){},"3ab0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"lHh Lpr lFf"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{elevated:""}},[a("q-toolbar",[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(e){t.left=!t.left}}}),a("q-toolbar-title",[a("q-item",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.user.activeContract.id,expression:"$store.state.user.activeContract.id"}],staticStyle:{"padding-left":"0"}},[a("q-item-section",[a("div",[t._v("\n              № "+t._s(t.$store.state.user.activeContract.contract_number)+"\n              "),7===t.$store.state.user.activeContract.id?a("q-badge",{attrs:{align:"top",color:"orange"}},[t._v("Демо договор")]):t._e()],1)])],1),a("img",{directives:[{name:"show",rawName:"v-show",value:!t.$store.state.user.contractStatus,expression:"!$store.state.user.contractStatus"}],staticStyle:{"max-width":"105px","margin-top":"6px"},attrs:{src:"/statics/logo.png"}})],1),a("q-item",{staticClass:"lt-xs-pr0"},[a("q-item-section",{attrs:{avatar:""}},[a("q-btn",{attrs:{round:"",flat:"",to:"/profile"}},[a("q-avatar",{staticClass:"no-border"},[a("img",{attrs:{src:t.AVATAR}})])],1)],1),a("q-item-section",{staticClass:"gt-xs"},[t._v(t._s(t.NICKNAME))])],1),a("q-btn",{attrs:{flat:"",round:"",dense:""},on:{click:function(e){t.dialogContracts=!0}}},[a("q-icon",{attrs:{name:"file_copy"}})],1)],1)],1),a("q-drawer",{attrs:{"show-if-above":"",side:"left",elevated:""},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}},[a("q-item",{staticClass:"bg-grey-3 item-"},[a("q-item-section",{attrs:{avatar:"",top:""}},[a("q-avatar",{staticClass:"no-border"},[a("img",{attrs:{src:t.AVATAR}})])],1),a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(t.NICKNAME))])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{attrs:{flat:"",round:"",dense:"",to:"/settings"}},[a("q-icon",{attrs:{name:"settings",size:"22px"}})],1)],1)],1),a("navlist"),a("div",{staticClass:"fixed-bottom bg-white"},[a("q-separator"),a("div",{staticClass:"row"},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-light-blue-14",attrs:{clickable:"",to:"/profile"}},[a("q-item-section",[a("q-icon",{attrs:{name:"perm_identity",size:"22px"}})],1)],1),a("q-separator",{attrs:{vertical:""}}),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-light-blue-14",attrs:{clickable:"",to:"/team"}},[a("q-item-section",[a("q-icon",{attrs:{name:"people_outline",size:"22px"}})],1)],1),a("q-separator",{attrs:{vertical:""}}),a("q-item",{staticClass:"text-grey-5",attrs:{clickable:""},on:{click:function(e){return t.$store.dispatch("auth/LOGOUT")}}},[a("q-item-section",[a("q-icon",{attrs:{name:"exit_to_app",size:"22px"}})],1)],1)],1)],1),a("div",{staticStyle:{"padding-bottom":"50px"}})],1),a("q-dialog",{model:{value:t.dialogContracts,callback:function(e){t.dialogContracts=e},expression:"dialogContracts"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("Перейти на договор")])]),a("q-separator"),a("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"50vh"}},[a("contracts")],1)],1)],1),a("keep-alive",[a("q-page-container",[a("router-view")],1)],1)],1)},s=[],n=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("7f7f"),a("c47a")),r=a.n(n),c=a("2f62"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"navlist"}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/contract"}},[a("q-item-section",{staticClass:"text-grey-6",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"inbox"}})],1),a("q-item-section",[t._v("\n     Договор\n    ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/project"}},[a("q-item-section",{staticClass:"text-grey-6",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"rounded_corner"}})],1),a("q-item-section",[t._v("\n     Проект\n    ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/collection"}},[a("q-item-section",{staticClass:"text-grey-6",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"library_add_check"}})],1),a("q-item-section",[t._v("\n     Коллекция проектов\n    ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/stages"}},[a("q-item-section",{staticClass:"text-grey-6",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"list_alt"}})],1),a("q-item-section",[t._v("\n     Этапы\n    ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/graphpayment"}},[a("q-item-section",{staticClass:"text-grey-6",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"payment"}})],1),a("q-item-section",[t._v("\n     График платежей\n    ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"video"}},[a("q-item-section",{staticClass:"text-grey-6",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"ondemand_video"}})],1),a("q-item-section",[t._v("\n     Видеонаблюдение\n    ")])],1),t._e(),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/services"}},[a("q-item-section",{staticClass:"text-grey-5",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"dialpad"}})],1),a("q-item-section",[t._v("\n     Услуги\n    ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/calculate"}},[a("q-item-section",{staticClass:"text-grey-5",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"bubble_chart"}})],1),a("q-item-section",[t._v("\n     Рассчитать стоимость\n    ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/team"}},[a("q-item-section",{staticClass:"text-grey-5",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"people_outline"}})],1),a("q-item-section",[t._v("\n    Моя команда\n    ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/task"}},[a("q-item-section",{staticClass:"text-grey-6",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"format_list_bulleted"}})],1),a("q-item-section",[t._v("\n     Задачи\n    ")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(e){return t.$refs.doc.open(e,"/statics/about-company.pdf")}}},[a("q-item-section",{staticClass:"text-grey-6",attrs:{avatar:""}},[a("q-icon",{attrs:{name:"info"}})],1),a("q-item-section",[t._v("\n     О компании\n    ")])],1),a("printdoc",{ref:"doc"})],1)},l=[],p=a("6b12"),d={name:"navlist",components:{printdoc:p["a"]}},u=d,m=(a("d1c6"),a("2877")),v=a("eebe"),f=a.n(v),h=a("66e5"),g=a("4074"),b=a("0016"),q=a("714f"),_=Object(m["a"])(u,o,l,!1,null,"726095ba",null),w=_.exports;f()(_,"components",{QItem:h["a"],QItemSection:g["a"],QIcon:b["a"]}),f()(_,"directives",{Ripple:q["a"]});var C=a("0dad"),x=a("18d6");function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function $(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(Object(a),!0).forEach((function(e){r()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var k={data:function(){return{dialogContracts:!1,chatDialog:!0,left:!1}},components:{navlist:w,contracts:C["a"]},created:function(){var t=this;this.$_checkOneVisit(),"/profile"!==this.$route.path&&(this.$_.isEmpty(this.$store.state.auth.user)?this.$watch("$store.state.auth.user",(function(){t.$_checkDataprofile()})):this.$_checkDataprofile())},computed:$({},Object(c["b"])({NICKNAME:"user/GET_NICKNAME",AVATAR:"user/GET_AVATAR"})),methods:{$_checkOneVisit:function(){x["a"].getItem("oneVisit")||(this.left=!0,x["a"].set("oneVisit",!0))},$_checkDataprofile:function(){this.$store.state.auth.user.name&&this.$store.state.auth.user.surname&&this.$store.state.auth.user.lastname&&this.$store.state.auth.user.mail&&this.$store.state.auth.user.city_id||this.$_showMsgOnEditProfile()},$_showMsgOnEditProfile:function(){var t=this;this.$q.notify({message:"Заполните пожалуйста",icon:"perm_identity",color:"yellow-9",position:"top-right",timeout:15e4,actions:[{label:"Профиль",color:"white",handler:function(){t.$router.push("/profile")}}]})}}},O=k,P=a("4d5a"),Q=a("e359"),A=a("65c6"),N=a("9c40"),E=a("6ac5"),T=a("58a8"),S=a("cb32"),D=a("9404"),I=a("0170"),j=a("eb85"),R=a("24e8"),z=a("f09f"),V=a("a370"),M=a("09e3"),G=Object(m["a"])(O,i,s,!1,null,null,null);e["default"]=G.exports;f()(G,"components",{QLayout:P["a"],QHeader:Q["a"],QToolbar:A["a"],QBtn:N["a"],QToolbarTitle:E["a"],QItem:h["a"],QItemSection:g["a"],QBadge:T["a"],QAvatar:S["a"],QIcon:b["a"],QDrawer:D["a"],QItemLabel:I["a"],QSeparator:j["a"],QDialog:R["a"],QCard:z["a"],QCardSection:V["a"],QPageContainer:M["a"]}),f()(G,"directives",{Ripple:q["a"]})},4:function(t,e){},"6b12":function(t,e,a){"use strict";var i,s,n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",attrs:{id:"printdoc"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.ts(e)}}},[a("iframe",{ref:"filePrint",staticStyle:{display:"none"},attrs:{src:""}}),a("q-dialog",{attrs:{maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",{staticClass:"full-width",staticStyle:{overflow:"hidden"}},[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"keyboard_arrow_left"},on:{click:t.closeDialog}}),t._v("\n          Вернуться\n\n          "),a("div",{staticClass:"text-center toolbar-center"},[a("q-btn",{attrs:{flat:"",color:"white",icon:"zoom_out",size:"13px"},on:{click:function(e){t.scale-=.1}}}),t._v("\n            "+t._s((t.scale-1.5).toFixed(1))+"\n            "),a("q-btn",{attrs:{flat:"",color:"white",icon:"zoom_in",size:"13px"},on:{click:function(e){t.scale+=.1}}}),t._v("\n\n            стр "+t._s(t.numPages)+"\n          ")],1)],1),a("div",{staticClass:"pdf-container"},[a("document",t._b({on:{countpages:t.countPages}},"document",{data:t.data,scale:t.scale},!1))],1)],1)],1)],1)},r=[],c=a("967e"),o=a.n(c),l=(a("6762"),a("2fdb"),a("96cf"),a("fa84")),p=a.n(l),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapperiframe",staticClass:"canvas-container text-center"},[a("q-circular-progress",{directives:[{name:"show",rawName:"v-show",value:!t.pages.length,expression:"!pages.length"}],staticClass:"q-ma-md absolute-center",attrs:{indeterminate:"",size:"40px",color:"light-blue-6"}}),t._l(t.pages,(function(e,i){return a("div",{key:i},[a("page",t._b({},"page",{page:e,scale:t.scale},!1))],1)}))],2)},u=[],m=(a("551c"),a("ac6a"),a("cadf"),a("06db"),a("5df3"),a("9511")),v=a.n(m),f=a("f3e3"),h=a.n(f),g={props:["page","scale"],render:function(t){var e=this.canvasAttrs;return t("canvas",{attrs:e})},created:function(){this.viewport=this.page.getViewport({scale:this.scale})},mounted:function(){this.drawPage()},computed:{canvasAttrs:function(){var t=this.viewport,e=t.width,a=t.height,i=this.canvasStyle;return{width:e,height:a,style:i}},canvasStyle:function(){var t=this.actualSizeViewport,e=t.width,a=t.height,i=window.devicePixelRatio||1,s=[e,a].map((function(t){return Math.ceil(t/i)})),n=h()(s,2),r=n[0],c=n[1];return"width: ".concat(r,"px; height: ").concat(c,"px;")},actualSizeViewport:function(){return this.viewport.clone({scale:this.scale-1.5})}},methods:{drawPage:function(){var t=this.viewport,e=this.$el.getContext("2d"),a={canvasContext:e,viewport:t};this.renderTask=this.page.render(a)}}},b=g,q=a("2877"),_=Object(q["a"])(b,i,s,!1,null,"1300dd0b",null),w=_.exports,C={props:["data","scale"],components:{page:w},data:function(){return{pdf:void 0,pages:[]}},created:function(){this.fetchPDF()},methods:{fetchPDF:function(){var t=this;if(this.data){var e={withCredentials:!1};this.data.includes(".pdf")?e["url"]=this.data:e["data"]=atob(this.data),v.a.getDocument(e).promise.then((function(e){t.pdf=e}))}}},watch:{data:function(){this.fetchPDF()},pdf:function(t){var e=this;this.pages=[],this.$emit("countpages",t.numPages);var a=this.$_.range(1,t.numPages+1).map((function(e){return t.getPage(e)}));Promise.all(a).then((function(t){return e.pages=t}))}}},x=C,y=a("eebe"),$=a.n(y),k=a("58ea"),O=Object(q["a"])(x,d,u,!1,null,"5dc4132c",null),P=O.exports;$()(O,"components",{QCircularProgress:k["a"]});var Q={name:"printdoc",components:{document:P},data:function(){return{dialog:!1,numPages:void 0,srcPdf:"",percentLoad:"",indexLoad:1,scale:3,data:""}},methods:{print:function(t){var e=this.$refs.filePrint;this.srcPdf=encodeURIComponent(t),e.contentWindow.focus(),e.onload=function(){e.contentWindow.print()}},closeDialog:function(){this.dialog=!1,this.data=null,this.numPages=void 0,this.scale=3},open:function(t,e){var a=this;null===t.target.getAttribute("nopen")&&(this.srcPdf=encodeURIComponent(e),this.dialog=!0,this.$nextTick((function(){setTimeout((function(){a.$_loadPdf(e)}),500)})))},$_loadPdf:function(t){var e=this;return p()(o.a.mark((function a(){return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.includes("http")?e.$axios.post("parse/file/pdf",{src:t}).then((function(t){e.data=t.data})):e.data=t;case 1:case"end":return a.stop()}}),a)})))()},countPages:function(t){this.numPages=t}}},A=Q,N=(a("8989"),a("24e8")),E=a("f09f"),T=a("65c6"),S=a("9c40"),D=Object(q["a"])(A,n,r,!1,null,"86849036",null);e["a"]=D.exports;$()(D,"components",{QDialog:N["a"],QCard:E["a"],QToolbar:T["a"],QBtn:S["a"]})},8989:function(t,e,a){"use strict";var i=a("9f00"),s=a.n(i);s.a},"9f00":function(t,e,a){},d1c6:function(t,e,a){"use strict";var i=a("db2a"),s=a.n(i);s.a},db2a:function(t,e,a){}}]);