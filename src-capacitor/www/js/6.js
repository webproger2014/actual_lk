(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{1:function(t,e){},"14fc":function(t,e,a){"use strict";var s=a("229a"),n=a.n(s);n.a},2:function(t,e){},"229a":function(t,e,a){},3:function(t,e){},4:function(t,e){},"6b12":function(t,e,a){"use strict";var s,n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",attrs:{id:"printdoc"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.ts(e)}}},[a("iframe",{ref:"filePrint",staticStyle:{display:"none"},attrs:{src:""}}),a("q-dialog",{attrs:{maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("q-card",{staticClass:"full-width",staticStyle:{overflow:"hidden"}},[a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"keyboard_arrow_left"},on:{click:t.closeDialog}}),t._v("\n          Вернуться\n\n          "),a("div",{staticClass:"text-center toolbar-center"},[a("q-btn",{attrs:{flat:"",color:"white",icon:"zoom_out",size:"13px"},on:{click:function(e){t.scale-=.1}}}),t._v("\n            "+t._s((t.scale-1.5).toFixed(1))+"\n            "),a("q-btn",{attrs:{flat:"",color:"white",icon:"zoom_in",size:"13px"},on:{click:function(e){t.scale+=.1}}}),t._v("\n\n            стр "+t._s(t.numPages)+"\n          ")],1)],1),a("div",{staticClass:"pdf-container"},[a("document",t._b({on:{countpages:t.countPages}},"document",{data:t.data,scale:t.scale},!1))],1)],1)],1)],1)},c=[],o=a("967e"),r=a.n(o),l=(a("6762"),a("2fdb"),a("96cf"),a("fa84")),d=a.n(l),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapperiframe",staticClass:"canvas-container text-center"},[a("q-circular-progress",{directives:[{name:"show",rawName:"v-show",value:!t.pages.length,expression:"!pages.length"}],staticClass:"q-ma-md absolute-center",attrs:{indeterminate:"",size:"40px",color:"light-blue-6"}}),t._l(t.pages,(function(e,s){return a("div",{key:s},[a("page",t._b({},"page",{page:e,scale:t.scale},!1))],1)}))],2)},h=[],p=(a("551c"),a("ac6a"),a("cadf"),a("06db"),a("5df3"),a("9511")),f=a.n(p),m=a("f3e3"),v=a.n(m),_={props:["page","scale"],render:function(t){var e=this.canvasAttrs;return t("canvas",{attrs:e})},created:function(){this.viewport=this.page.getViewport({scale:this.scale})},mounted:function(){this.drawPage()},computed:{canvasAttrs:function(){var t=this.viewport,e=t.width,a=t.height,s=this.canvasStyle;return{width:e,height:a,style:s}},canvasStyle:function(){var t=this.actualSizeViewport,e=t.width,a=t.height,s=window.devicePixelRatio||1,n=[e,a].map((function(t){return Math.ceil(t/s)})),i=v()(n,2),c=i[0],o=i[1];return"width: ".concat(c,"px; height: ").concat(o,"px;")},actualSizeViewport:function(){return this.viewport.clone({scale:this.scale-1.5})}},methods:{drawPage:function(){var t=this.viewport,e=this.$el.getContext("2d"),a={canvasContext:e,viewport:t};this.renderTask=this.page.render(a)}}},g=_,b=a("2877"),x=Object(b["a"])(g,s,n,!1,null,"1300dd0b",null),C=x.exports,y={props:["data","scale"],components:{page:C},data:function(){return{pdf:void 0,pages:[]}},created:function(){this.fetchPDF()},methods:{fetchPDF:function(){var t=this;if(this.data){var e={withCredentials:!1};this.data.includes(".pdf")?e["url"]=this.data:e["data"]=atob(this.data),f.a.getDocument(e).promise.then((function(e){t.pdf=e}))}}},watch:{data:function(){this.fetchPDF()},pdf:function(t){var e=this;this.pages=[],this.$emit("countpages",t.numPages);var a=this.$_.range(1,t.numPages+1).map((function(e){return t.getPage(e)}));Promise.all(a).then((function(t){return e.pages=t}))}}},w=y,k=a("eebe"),q=a.n(k),P=a("58ea"),O=Object(b["a"])(w,u,h,!1,null,"5dc4132c",null),$=O.exports;q()(O,"components",{QCircularProgress:P["a"]});var D={name:"printdoc",components:{document:$},data:function(){return{dialog:!1,numPages:void 0,srcPdf:"",percentLoad:"",indexLoad:1,scale:3,data:""}},methods:{print:function(t){var e=this.$refs.filePrint;this.srcPdf=encodeURIComponent(t),e.contentWindow.focus(),e.onload=function(){e.contentWindow.print()}},closeDialog:function(){this.dialog=!1,this.data=null,this.numPages=void 0,this.scale=3},open:function(t,e){var a=this;null===t.target.getAttribute("nopen")&&(this.srcPdf=encodeURIComponent(e),this.dialog=!0,this.$nextTick((function(){setTimeout((function(){a.$_loadPdf(e)}),500)})))},$_loadPdf:function(t){var e=this;return d()(r.a.mark((function a(){return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.includes("http")?e.$axios.post("parse/file/pdf",{src:t}).then((function(t){e.data=t.data})):e.data=t;case 1:case"end":return a.stop()}}),a)})))()},countPages:function(t){this.numPages=t}}},j=D,A=(a("8989"),a("24e8")),S=a("f09f"),N=a("65c6"),I=a("9c40"),Q=Object(b["a"])(j,i,c,!1,null,"86849036",null);e["a"]=Q.exports;q()(Q,"components",{QDialog:A["a"],QCard:S["a"],QToolbar:N["a"],QBtn:I["a"]})},8989:function(t,e,a){"use strict";var s=a("9f00"),n=a.n(s);n.a},"9f00":function(t,e,a){},d65b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"collectionItem"}},[t.houses.length?a("div",[a("div",{staticClass:"col q-pa-md text-h5"},[a("q-btn",{attrs:{flat:"",icon:"keyboard_backspace"},on:{click:t.back}}),t._v('\n      Проект дома "'+t._s(t.houses.name)+'"\n    ')],1),a("div",{staticClass:"row justify-center"},[a("div",{staticClass:"col-12 col-lg-10"},[a("div",{staticClass:"q-pa-md"},[a("q-carousel",{staticClass:"myCarousel",attrs:{animated:"",arrows:"",thumbnails:"",infinite:""},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[t._l(t.houses.images,(function(t,e){return a("q-carousel-slide",{key:e,attrs:{name:e,"img-src":"https://cdn.vevanta.ru/"+t.url_1024}})})),t._l(t.videos,(function(t,e){return a("q-carousel-slide",{key:"video-"+e,attrs:{name:"video-"+e,"img-src":"https://i.ytimg.com/vi/"+t+"/hqdefault.jpg"}},[a("iframe",{staticClass:"absolute-full myCarousel",staticStyle:{width:"100%"},attrs:{src:"https://www.youtube.com/embed/"+t+"?autoplay=1&",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})])}))],2)],1),a("div",{staticClass:"row q-pa-md text-center justify-between"},[a("div",{staticClass:"col-6 col-sm-3 col-md-2"},[a("div",{staticClass:"text-h6 textChar"},[t._v("\n              Площадь\n            ")]),a("div",{staticClass:"text-h5"},[t._v(t._s(t.houses.square)+" м"),a("sup",[t._v("2")])])]),a("div",{staticClass:"col-6 col-sm-3 col-md-2"},[a("div",{staticClass:"text-h6 textChar"},[t._v("\n              Этажность\n            ")]),a("div",{staticClass:"text-h5"},[t._v("\n              "+t._s(t.houses.floors_q)+"\n            ")])]),a("div",{staticClass:"col-6 col-sm-3 col-md-2"},[a("div",{staticClass:"text-h6 textChar"},[t._v("\n              Количество спален\n            ")]),a("div",{staticClass:"text-h5 text-center"},[t._v("\n              "+t._s(t.houses.rooms_q)+"\n            ")])]),a("div",{staticClass:"col-6 col-sm-3 col-md-2"},[a("div",{staticClass:"text-h6 textChar"},[t._v("\n              Тип гаража\n            ")]),a("div",{staticClass:"text-h5"},[t._v("\n              "+t._s(t.houses.garage_type_name)+"\n            ")])]),a("div",{staticClass:"col-12 col-sm-4 col-md-3"},[a("div",[a("q-btn",{staticClass:"full-width",staticStyle:{height:"55px"},attrs:{color:"primary",label:"Рассчитать стоимость"},on:{click:function(e){return t.$router.push("/calculate")}}})],1)])]),a("div",[a("div",[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-sm-6 q-pa-md"},[a("q-markup-table",[a("tbody",[a("tr",[a("td",{staticClass:"text-left"},[t._v("Цокольный этаж")]),0==t.houses.groundfloor?a("td",{staticClass:"text-right"},[t._v("\n                        Нет\n                      ")]):t._e(),1==t.houses.groundfloor?a("td",{staticClass:"text-right"},[t._v("\n                        Есть\n                      ")]):t._e()]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Мансардный этаж")]),0==t.houses.mansard?a("td",{staticClass:"text-right"},[t._v("\n                        Нет\n                      ")]):t._e(),1==t.houses.mansard?a("td",{staticClass:"text-right"},[t._v("\n                        Есть\n                      ")]):t._e()]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Крыша")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.houses.roof_type_name))])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Площадь")]),a("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(t.houses.square)+" м"),a("sup",[t._v("2")])])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Габариты")]),a("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(t.houses.width)+"x"+t._s(t.houses.length)+"\n                      ")])])])])],1),a("div",{staticClass:"col-12 col-sm-6 q-pa-md"},[a("q-markup-table",[a("tbody",[a("tr",[a("td",{staticClass:"text-left"},[t._v("Ванная комната")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.houses.baths_q))])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Тип гаража")]),a("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(t.houses.garage_type_name)+"\n                      ")])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Этажность")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.houses.floors_q))])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Спальня")]),a("td",{staticClass:"text-right"},[t._v(t._s(t.houses.rooms_q))])]),a("tr",[a("td",{staticClass:"text-left"},[t._v("Материалы для строительства")]),a("td",{staticClass:"text-right"},[t.houses.materials.includes("1")?a("div",[t._v("\n                          Кирпич\n                        ")]):t._e(),t.houses.materials.includes("2")?a("div",[t._v("\n                          Газоблок\n                        ")]):t._e(),t.houses.materials.includes("3")?a("div",[t._v("\n                          Керамический блок\n                        ")]):t._e(),t.houses.materials.includes("4")?a("div",[t._v("\n                          Керамзитоблок\n                        ")]):t._e(),t.houses.materials.includes("5")?a("div",[t._v("\n                          Пеноблок\n                        ")]):t._e(),t.houses.materials.includes("6")?a("div",[t._v("\n                          Клееный брус\n                        ")]):t._e(),t.houses.materials.includes("7")?a("div",[t._v("\n                          Бревно\n                        ")]):t._e()])])])])],1)])])]),a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"text-h6"},[t._v("\n            Планировка\n          ")]),a("div",t._l(t.houses.plans,(function(t,e){return a("q-img",{key:e,attrs:{src:"https://cdn.vevanta.ru/"+t.url_1024}})})),1)]),a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"text-h6"},[t._v("\n            Описание\n          ")]),a("div",{staticClass:"text-subtitle2"},[t._v("\n            "+t._s(t.houses.description)+"\n          ")])])]),a("form",{staticClass:"col-12 col-sm-4 col-md-3 col-lg-2",on:{submit:function(e){return e.preventDefault(),t.send(e)}}},[a("div",{staticClass:"q-pa-md cardManager"},[a("q-card",{staticClass:"my-card bg-grey-1",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"text-subtitle2 text-center"},[t._v("\n                "+t._s(t.title)+"\n              ")])]),a("div",{staticClass:"text-center"},[a("q-avatar",{attrs:{size:"180px"}},[a("img",{attrs:{src:t.imgAgent}})])],1),a("div",{staticClass:"text-center text-subtitle2"},[t._v("\n              "+t._s(t.nameAgent)+"\n            ")]),a("div",{staticClass:"q-pa-sm text-center text-subtitle2"},[t.numberOn?a("a",{staticClass:"phoneNumber",attrs:{href:t.telNumber}},[t._v("\n                "+t._s(t._f("phone")(t.phoneAgent))+"\n              ")]):t._e()]),a("div",{staticClass:"q-pa-sm text-center"},[t.numberOn?t._e():a("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Показать номер"},on:{click:function(e){t.numberOn=!t.numberOn}}})],1),a("div",{staticClass:"q-pa-sm text-center text-subtitle2"},[a("q-input",{attrs:{prefix:"7",mask:"(###) ###-##-##",filled:"",label:"Ваш номер:",name:"phone","unmasked-value":""},on:{keydown:function(e){t.account.phone=t.fixPhone(t.account.phone)},keyup:function(e){t.account.phone=t.fixPhone(t.account.phone)}},model:{value:t.account.phone,callback:function(e){t.$set(t.account,"phone",e)},expression:"account.phone"}})],1),a("div",{staticClass:"q-pa-sm text-center"},[a("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Заказать звонок",type:"submit"}})],1),a("div",{staticClass:"q-pa-sm text-center checkboxForm"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPersoanalData,expression:"checkPersoanalData"}],staticClass:"uk-checkbox",attrs:{type:"checkbox",checked:""},domProps:{checked:Array.isArray(t.checkPersoanalData)?t._i(t.checkPersoanalData,null)>-1:t.checkPersoanalData},on:{change:function(e){var a=t.checkPersoanalData,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,c=t._i(a,i);s.checked?c<0&&(t.checkPersoanalData=a.concat([i])):c>-1&&(t.checkPersoanalData=a.slice(0,c).concat(a.slice(c+1)))}else t.checkPersoanalData=n}}}),t._v("\n                Отправляя форму, вы соглашаетесь с обработкой\n                "),a("a",{attrs:{href:t.politika,target:"_blank"}},[t._v("персональных данных")])])])],1)],1)])])]):t._e(),a("printdoc",{ref:"doc"})],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"text-h6"},[t._v("Характеристики")])])}],i=(a("28a5"),a("7f7f"),a("6762"),a("2fdb"),a("c5f6"),a("6b12")),c=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),o=a.n(c),r=a("bc3a"),l=a.n(r);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){o()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={data:function(){return{api:{url:"https://vevanta.ru/api/mail/vevanta"},formName:"",msg:"",inputs:{phone:"",email:"",name:""},dataRequest:{}}},methods:{sendForm:function(){var t=this;if(this.inputs.phone||this.inputs.email){var e=this.msg;this.msg="Форма: ".concat(this.formName," <br>Комментарий: ").concat(e);var a=u({},this.inputs,{},this.dataRequest,{name:this.inputs.name,form:this.formName,msg:this.msg,phone:this.inputs.phone,email:this.inputs.email,url:location.href});l.a.post(this.api.url,a).then((function(){t.inputs.phone="",t.inputs.email="",t.inputs.name="",t.msg=""}))}}}},p=h,f={mixins:[p],components:{printdoc:i["a"]},props:{politika:{type:String,default:"https://vevanta.com/politika-konfidencialnosti"},staffId:{type:Number},managerId:{type:Number},classId:{type:Number},sourceId:{type:Number}},data:function(){return{videos:[],title:"Узнайте с чего начать строительство дома",checkPersoanalData:!0,numberOn:!1,slide:0,nameAgent:"",phoneAgent:"",imgAgent:"",telNumber:"",city:"",cityName:"",cityId:"",idUser:"",selectCity:"",id:"",info:{"Москва":1,"Тюмень":2229,"Тобольск":2228,"Екатеринбург":1888},dataTime:"",idAgent:"",houses:[],account:{name:"",mail:"",surname:"",lastname:"",phone:""},inputs:{phone:""}}},created:function(){this.$_getHouse(),this.getUsersStaff()},deactivated:function(){this.slide=0,this.videos="",this.numberOn=!1,this.getUsersStaff(),this.$_getHouse()},methods:{send:function(){this.formName=this.title,this.inputs.phone=this.account.phone,this.sendForm()},getUsersStaff:function(){var t=this;this.dataTime=Date();var e=this.dataTime;console.log(e),this.$store.dispatch("user/GET_USER",this.city).then((function(a){if(t.cityId=a.data.city_id,t.cityName=a.data.city_name,t.idUser=a.data.id,e.includes("GMT+0500")||t.cityId===t.info.Тюмень||t.cityId===t.info.Тобольск||t.cityId===t.info.Екатеринбург){var s=["92","70","294","161"],n=Math.floor(Math.random()*s.length);t.id=s[n]}else{var i=["92","70","294","161"],c=Math.floor(Math.random()*i.length);t.id=i[c]}t.$axios.post("users/get_user",{user_id:t.id}).then((function(e){t.nameAgent="".concat(e.data.name," ").concat(e.data.surname),t.phoneAgent="+ ".concat(e.data.phone),t.telNumber="tel:+7".concat(e.data.phone),t.imgAgent="https://cdn.vevanta.ru/".concat(e.data.photo)}))}))},back:function(){this.$router.push("/collection")},$_getHouse:function(){var t=this;this.$axios.post("https://api.vevanta.ru/v1/projects/get_project_by_id",{project_id:this.$route.params.id}).then((function(e){t.houses=e.data[0],e.data[0].videos&&(t.videos=e.data[0].videos.split(","))}))},fixPhone:function(t){return"7"===t[0]||"8"===t[0]?parseInt(t.slice(1,t.length))||null:t}},watch:{$route:function(t,e){this.$_getHouse()}}},m=f,v=(a("14fc"),a("2877")),_=a("eebe"),g=a.n(_),b=a("9c40"),x=a("880c"),C=a("62cd"),y=a("2bb1"),w=a("068f"),k=a("f09f"),q=a("a370"),P=a("cb32"),O=a("27f9"),$=Object(v["a"])(m,s,n,!1,null,"674c299a",null);e["default"]=$.exports;g()($,"components",{QBtn:b["a"],QCarousel:x["a"],QCarouselSlide:C["a"],QMarkupTable:y["a"],QImg:w["a"],QCard:k["a"],QCardSection:q["a"],QAvatar:P["a"],QInput:O["a"]})}}]);